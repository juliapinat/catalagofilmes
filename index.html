<!DOCTYPE html>
<html lang="pt-BR">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Filmes - Fase 1: Cadastro Manual (DOM Básico)</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>

    <h1>Catálogo de Filmes</h1>

    <form id="cadastro-filme">
        <h2>Adicionar Novo Filme</h2>
        <div>
            <label for="titulo">Título do Filme:</label>
            <input type="text" id="titulo" required>
         </div>
        
            <div>
        <label for="sinopse">Sinopse:</label>
        <textarea id="sinopse" required></textarea>
    </div>

    <button type="submit">Adicionar Filme</button>
</form>
            
   <hr>

   <h2>Minha Lista De Filmes</h2>

   <div id="lista-filmes">
    <p>Nenhum filme cadastrado ainda.</p>
</div>

<script>

const catalogo = [];

form = document.getElementById('cadastro-filme');
const listaFilmesContainer = document.getElementById('lista-filmes');

function removerFilme(indice, elementoDOM) {
   
    catalogo.splice(indice, 1);

elementoDOM.remove();

if (catalogo.length === 0) {
    listaFilmesContainer.innerHTML = '<p>Nenhum filme cadastrado ainda.</p>';
}

console.log(`Filme no índice ${indice} removido. Catálogo atualizado:`, catalogo);
}

function renderizarFilme(filme, indice) {
  
if (catalogo.length === 1) {
    listaFilmesContainer.innerHTML = '';
  }

const filmeDiv = document.createElement('div');
filmeDiv.classList.add('filme-item'); // Adiciona uma classe para estilização

const tituloH3 = document.createElement('h3');
tituloH3.textContent = filme.titulo;

const sinopseP = document.createElement('p');
sinopseP.textContent = filme.sinopse;

const removerBotao = document.createElement('button');
removerBotao.textContent = 'Remover';
removerBotao.classList.add('btn-remover');


removerBotao.addEventListener('click', () => {
  
  removerFilme(indice, filmeDiv);
});

filmeDiv.appendChild(tituloH3);
filmeDiv.appendChild(sinopseP);
filmeDiv.appendChild(removerBotao);

listaFilmesContainer.appendChild(filmeDiv);
}

function adicionarFilme(evento) {
    
    evento.preventDefault();

    const tituloInput = document.getElementById('titulo');
    const sinopseInput = document.getElementById('sinopse');

const novoFilme = {
    titulo: tituloInput.value,
    sinopse: sinopseInput.value
};

catalogo.push(novoFilme);

renderizarFilme(novoFilme, catalogo.length - 1);

form.reset();
}

form.addEventListener('submit', adicionarFilme);

console.log("JavaScript Carregado. Pronto para iniciar o catalogo!");
</script>

</body>
</html>